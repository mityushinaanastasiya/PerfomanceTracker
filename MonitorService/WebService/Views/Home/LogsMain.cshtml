@using WebService.DataAccess.Models
@using Type = WebService.Models.Type;
@using WebService.ModelsForView;
@model LogsMain

<h3>Logs</h3>
<hr width="30%" align="left" />
<br />
<div class="row">
    <div class="col col-auto">
        <a asp-area="" asp-controller="Home" asp-action="Logs" asp-route-type="@Type.Total" class="nav-link text-white bg-secondary rounded" style="min-width: 280px">
            <div>
                <h5>Fatal</h5>
                <h4>@Model.CountOfLogs["Total"] logs</h4>
            </div>
        </a>
    </div>
    <div class="col col-auto">
        <a asp-area="" asp-controller="Home" asp-action="Logs" asp-route-type="@Type.Error" class="nav-link text-white bg-dark  rounded" style="min-width: 280px">
            <div>
                <h5>Error</h5>
                <h4>@Model.CountOfLogs["Error"] logs</h4>
            </div>
        </a>
    </div>
    <div class="col col-auto">
        <a asp-area="" asp-controller="Home" asp-action="Logs" asp-route-type="@Type.Warning" class="nav-link text-white bg-secondary rounded" style="min-width: 280px">
            <div>
                <h5>Warning</h5>
                <h4>@Model.CountOfLogs["Warning"] logs</h4>
            </div>
        </a>
    </div>
    <div class="col col-auto">
        <a asp-area="" asp-controller="Home" asp-action="Logs" asp-route-type="@Type.Info" class="nav-link text-white bg-dark  rounded" style="min-width: 280px">
            <div>
                <h5>Info</h5>
                <h4>@Model.CountOfLogs["Info"] logs</h4>
            </div>
        </a>
    </div>
    <div class="col col-auto">
        <a asp-area="" asp-controller="Home" asp-action="Logs" asp-route-type="@Type.Debug" class="nav-link text-white bg-secondary  rounded" style="min-width: 280px">
            <div>
                <h5>Debug</h5>
                <h4>@Model.CountOfLogs["Debug"] logs</h4>
            </div>
        </a>
    </div>   
</div>
<br />
<div class="row">
    <div class="col">
        <form asp-controller="HomeController" asp-action="LogsMain" method="get">
            <div class="form-row">
                <div class="form-group col-sm-6">
                    <input type="text" asp-for="SearchWord"  class="form-control" id="inputfiltr" placeholder="Input parametr for searching of logs">
                </div>
                <div class="form-group col-sm-2">
                    <input type="date" asp-for="StartTime" class="form-control" id="inputStartDate" placeholder="start">
                </div>
                <div class="form-group col-sm-2">
                    <input type="date" asp-for="EndTime" class="form-control" id="inputEndDate"  placeholder="end">
                </div>
                <div class="form-group col-sm-2">
                    <button type="submit" class="btn btn-secondary">Search</button>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="row">
    <div class="col">
        <table class="table table-striped table-bordered table-hover">
            <thead class="thead-dark text-white">
                <tr>
                    <th style="width: 2%">Time Stamp</th>
                    <th style="width: 3%">Thread Id</th>
                    <th style="width: 3%">Log Message</th>
                    <th style="width: 5%">Method Name</th>
                    <th style="width: 5%">Log Content</th>
                    <th style="width: 4%">Machine Name</th>
                    <th style="width: 3%">Log Source</th>
                </tr>
            </thead>
            <tbody>
                @foreach (Log log in Model.AllLogs)
                {
                    <tr>
                        <th>@log.TimeStamp</th>
                        <th>@log.ThreadId</th>
                        <th>@log.LogMessage</th>
                        <th>@log.MethodName</th>
                        <th>@log.LogContent</th>
                        <th>@log.MachineName</th>
                        <th>@log.LogSource</th>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

